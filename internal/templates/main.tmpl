{{define "main"}}
<main class="{{(call .GetComponentConfig "main").ClassNames}}">
    {{if eq .Page.ID "home"}}
        {{template "blogPostList" .}}
    {{else if eq .Page.ID "about"}}
        {{template "aboutContent" .}}
    {{else if eq .Page.ID "blog-post"}}
        {{template "blogPost" .}}
    {{end}}
</main>
{{end}}

{{define "blogPostList"}}
    {{range .Project.BlogPosts}}
    <article class="bg-white rounded-lg shadow-md p-6 h-[300px] flex flex-col">
        <h2 class="text-xl font-bold mb-2">
            <a href="{{urlize .Title}}.html" class="text-primary hover:text-secondary">
                {{.Title}}
            </a>
        </h2>
        <div class="text-sm text-gray-600 mb-4">
            <span>{{.Author}}</span> • 
            <span>{{formatDate .CreatedDate}}</span> • 
            <span>{{.ReadTime}}</span>
        </div>
        <p class="text-gray-700 line-clamp-4 flex-grow">{{.Preview}}</p>
    </article>
    {{end}}
{{end}}

{{define "aboutContent"}}
<div class="max-w-4xl mx-auto">
    {{range .Page.Components}}
        {{if eq .Type "paragraph"}}
            {{template "paragraph" .}}
        {{else if eq .Type "image"}}
            {{template "blogImage" .}}
        {{end}}
    {{end}}
</div>
{{end}} 